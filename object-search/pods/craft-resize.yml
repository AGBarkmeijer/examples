!CompoundExecutor
components:
  - !ImageResizer
    with:
      target_size: 96
    metas:
      name: img_resize
  - !ImageNormalizer
    with:
      target_size: 96
      img_mean: [0.485, 0.456, 0.406]
      img_std: [0.229, 0.224, 0.225]
      channel_axis: -1
    metas:
      name: img_norm
metas:
  name: compound_resize
requests:
  on:
    IndexRequest:
      - !CraftDriver
        with:
          executor: img_resize
          granularity_range: [1, 2]
          adjacency_range: [0, 0]
      # - !LogInfoDriver {}
      - !CraftDriver
        with:
          executor: img_norm
          granularity_range: [1, 2]
          adjacency_range: [0, 0]
      # - !LogInfoDriver {}
    ControlRequest:
      - !ControlReqDriver {}