!MinRanker
requests:
  on:
    ControlRequest:
      - !ControlReqDriver {}
    SearchRequest:
      - !Chunk2DocRankDriver
        with:
          granularity_range: [1, 1]
          adjacency_range: [1, 1]
          recur_on: ['chunks',]
#      - !SortQL
#        with:
#          field: 'score.value'
#          granularity_range: [0, 1]
#          adjacency_range: [0, 1]
      - !ExcludeQL
        with:
          fields:
            - embedding
            - buffer
            - blob
            - text
            - chunks
            - length
            - weight
          granularity_range: [0, 2]
          adjacency_range: [0, 1]
          recur_on: ['chunks', 'matches']
#      - !SliceQL
#        with:
#          granularity_range: [0, 0]
#          adjacency_range: [0, 1]
#          start: 0
#          end: 50
